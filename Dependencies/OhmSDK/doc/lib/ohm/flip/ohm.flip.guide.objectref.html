<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Flip Programming Guide: Using ObjectRefs</title>
<link rel="stylesheet" href="docpage.css" type="text/css" />
</head>

<script type="text/javascript">
function searchfield_focus(obj)
{
obj.style.color="#000"
if (obj.value=="Search Library")
	{obj.value=""}
}
</script>


<body>

<div id="header">
<div style="width: 1006px;">
<!--<form method="get" class="search" style="padding-top: 5px;"  action="http://www.google.com/search">
<input onfocus="searchfield_focus(this)" type="search" class="search" name="q" value="Search Library">
<input type="hidden" name="sitesearch" value="">
</form>-->
</div>
<p><a href="index.html">Ohm Force Developer Library</a><a href="ohm.flip.guide.about.html">Flip Programming Guide</a></p>
</div>

<div id="toc">
<p>Flip Programming Guide</p>
<ul>
<li><a href="ohm.flip.guide.about.html">About Flip Programming Guide</a></li>
<li><a href="ohm.flip.guide.design.html">Designing your Flip Application</a></li>
<li><a href="ohm.flip.guide.class.html">Writing a Flip Class Part 1</a></li>
<li><a href="ohm.flip.guide.class2.html">Writing a Flip Class Part 2</a></li>
<li><a href="ohm.flip.guide.containers.html">Using Containers</a></li>
<li><a href="ohm.flip.guide.enums.html">Using Enums</a></li>
<li><a href="ohm.flip.guide.blob.html">Using Blobs</a></li>
<li><a href="ohm.flip.guide.objectref.html"><strong>Using ObjectRefs</strong></a>
	<ul>
	<li><a href="ohm.flip.guide.objectref.html#overview">Overview</a></li>
	<li><a href="ohm.flip.guide.objectref.html#precautions">Precautions</a></li>
	</ul>
</li>
<li><a href="ohm.flip.guide.cue.html">Using Cues</a></li>
<li><a href="ohm.flip.guide.navigation.html">Navigating the Model</a></li>
<li><a href="ohm.flip.guide.observer.html">Writing a DocumentObserver</a></li>
<li><a href="ohm.flip.guide.validator.html">Writing a DocumentValidator</a></li>
<li><a href="ohm.flip.guide.undo.html">Using the Undo/Redo system</a></li>
<li><a href="ohm.flip.guide.const.html">Managing Pseudo Const Members</a></li>
<li><a href="ohm.flip.guide.mold.html">Using an ObjectMold</a></li>
<li><a href="ohm.flip.guide.conversion.html">Writing a Converter</a></li>
<li><a href="ohm.flip.guide.tweaker.html">Writing a DocumentTweaker</a></li>
</ul>

<div class="bottomspacer">&nbsp;</div>
</div>

<div id="content">

<div class="nav" align="right"><a href="ohm.flip.guide.blob.html">previous</a><span>&nbsp;</span><a href="ohm.flip.guide.cue.html">next</a></div>

<h1>Using ObjectRefs</h1>

<p>This chapter will describe the use of
<span class="code">flip::ObjectRef</span> 
with the Flip framework.</p>
<p>In the following, we will show the step by step construction of an hypothetic
<span class="code">MyClass</span> 
class.</p>
<p>This chapter will assume that your company is called ACME making the application “Product”.</p>
<h2><a name="overview">Overview</a></h2>
<p>The Flip framework offers a
<span class="code">flip::ObjectRef</span> 
template class that holds a reference to
another Flip object of type
<span class="code">T</span> 
.</p>
<p>The
<span class="code">flip::ObjectRef</span> 
does not own the referenced object.
In particular, if the
<span class="code">flip::ObjectRef</span> 
is destroyed, the referenced
object will not be automatically destroyed.</p>
<p>A typical example of
<span class="code">flip::ObjectRef</span> 
use is an object selection container
as available in most GUI applications. When the user click on an object, the selection
is replaced by the object. Internally the selection object will only reference the
object.</p>
<p><span class="code">flip::ObjectRef</span> 
template parameter can be any Flip classes, and will
support polymorphism in the same way as with an object pointer in C++. If the template
parameter is
<span class="code">flip::Object</span> 
itself, the
<span class="code">flip::ObjectRef</span> 
will be
able to hold any Flip object. However it is interesting to set the type
of the template parameter to a more concrete type, as the class handles
dynamic casting automatically.</p>
<p>The use of
<span class="code">flip::ObjectRef</span> 
is straightforward and is exposed in details
in the
<a href="ohm.flip.reference.objectref.html">Flip Reference: ObjectRef Template Class Reference</a>
chapter.</p>
<h2><a name="precautions">Precautions</a></h2>
<p>Some special precautions shall be made when using
<span class="code">flip::ObjectRef</span> 
.</p>
<p>Dandling references are a common scenario and is perfectly legal in the Flip
framework and is therefore not validated in the Flip internal structural
validation.</p>
<p>Fortunately, casting an
<span class="code">flip::ObjectRef</span> 
will return the null pointer
if the object does not exist anymore or exist but is of the wrong type.</p>
<p>In particular, when using
<span class="code">flip::Object</span> 
as the template parameter
of the
<span class="code">flip::ObjectRef</span> 
, implicit type should not assumed. It happens
that a dandling reference in a document becomes non-dandling after a conversion,
probably pointing to an object or even an object member arbitraly.</p>


<div class="nav" align="right"><a href="ohm.flip.guide.blob.html">previous</a><span>&nbsp;</span><a href="ohm.flip.guide.cue.html">next</a></div>

<div class="bottomspacer">&nbsp;</div>

</div>

<footer>
<a href="index.html">Ohm Force Developer Library</a> > <a href="ohm.flip.guide.about.html">Flip Programming Guide</a> > <a href="ohm.flip.guide.objectref.html">Using ObjectRefs</a>
</footer>


</body>

</html>