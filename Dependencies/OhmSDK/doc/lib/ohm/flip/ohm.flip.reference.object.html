<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Flip Reference: Object Class Reference</title>
<link rel="stylesheet" href="docpage.css" type="text/css" />
</head>

<script type="text/javascript">
function searchfield_focus(obj)
{
obj.style.color="#000"
if (obj.value=="Search Library")
	{obj.value=""}
}
</script>


<body>

<div id="header">
<div style="width: 1006px;">
<!--<form method="get" class="search" style="padding-top: 5px;"  action="http://www.google.com/search">
<input onfocus="searchfield_focus(this)" type="search" class="search" name="q" value="Search Library">
<input type="hidden" name="sitesearch" value="">
</form>-->
</div>
<p><a href="index.html">Ohm Force Developer Library</a><a href="ohm.flip.reference.overview.html">Flip Reference</a></p>
</div>

<div id="toc">
<p>Flip Reference</p>
<ul>
<li><a href="ohm.flip.reference.overview.html">Overview</a></li>
<li><a href="ohm.flip.reference.args.html">Args Class Reference</a></li>
<li><a href="ohm.flip.reference.array.html">Array Template Class Reference</a></li>
<li><a href="ohm.flip.reference.bool.html">Bool Class Reference</a></li>
<li><a href="ohm.flip.reference.blob.html">Blob Class Reference</a></li>
<li><a href="ohm.flip.reference.classdescmgr.html">ClassDescManager Class Reference</a></li>
<li><a href="ohm.flip.reference.classdesc.html">ClassDescription Template Class Reference</a></li>
<li><a href="ohm.flip.reference.collection.html">Collection Template Class Reference</a></li>
<li><a href="ohm.flip.reference.cue.html">Cue Class Reference</a></li>
<li><a href="ohm.flip.reference.docbase.html">DocumentBase Class Reference</a></li>
<li><a href="ohm.flip.reference.docclient.html">DocumentClient Class Reference</a></li>
<li><a href="ohm.flip.reference.doclocal.html">DocumentLocal Class Reference</a></li>
<li><a href="ohm.flip.reference.docserver.html">DocumentServer Class Reference</a></li>
<li><a href="ohm.flip.reference.docsignal.html">DocumentSignal Class Reference</a></li>
<li><a href="ohm.flip.reference.doctweaker.html">DocumentTweaker Template Class Reference</a></li>
<li><a href="ohm.flip.reference.docvalid.html">DocumentValidator Template Class Reference</a></li>
<li><a href="ohm.flip.reference.enum.html">Enum Template Class Reference</a></li>
<li><a href="ohm.flip.reference.enumdescmgr.html">EnumDescManager Class Reference</a></li>
<li><a href="ohm.flip.reference.enumdesc.html">EnumDescription Template Class Reference</a></li>
<li><a href="ohm.flip.reference.findmask.html">FindMask Enum Reference</a></li>
<li><a href="ohm.flip.reference.float64.html">Float64 Class Reference</a></li>
<li><a href="ohm.flip.reference.int64.html">Int64 Class Reference</a></li>
<li><a href="ohm.flip.reference.object.html"><strong>Object Class Reference</strong></a>
	<ul>
	<li><a href="ohm.flip.reference.object.html#overview">Overview</a></li>
	<li><a href="ohm.flip.reference.object.html#diagram">Partial Class Diagram</a></li>
	<li><a href="ohm.flip.reference.object.html#header">Methods Overview</a></li>
	<li><a href="ohm.flip.reference.object.html#method">Methods</a></li>
	</ul>
</li>
<li><a href="ohm.flip.reference.objectmold.html">ObjectMold Class Reference</a></li>
<li><a href="ohm.flip.reference.objectmolddata.html">ObjectMoldData Class Reference</a></li>
<li><a href="ohm.flip.reference.objectref.html">ObjectRef Template Class Reference</a></li>
<li><a href="ohm.flip.reference.pasteboard.html">PasteBoard Class Reference</a></li>
<li><a href="ohm.flip.reference.ref.html">Ref Type Reference</a></li>
<li><a href="ohm.flip.reference.scribe.html">Scribe Class Reference</a></li>
<li><a href="ohm.flip.reference.txguard.html">TxSessionGuard Class Reference</a></li>
<li><a href="ohm.flip.reference.validwriter.html">ValidationReportWriter Class Reference</a></li>
</ul>

<div class="bottomspacer">&nbsp;</div>
</div>

<div id="content">

<div class="nav" align="right"><a href="ohm.flip.reference.int64.html">previous</a><span>&nbsp;</span><a href="ohm.flip.reference.objectmold.html">next</a></div>

<h1>Object Class Reference</h1>

<table>
<tr><td><p>Namespace
</p></td><td><p><span class="code">ohm::flip</span> 
</p></td></tr>
<tr><td><p>Declared in
</p></td><td><p><span class="code">ohm/flip/Object.h</span> 
</p></td></tr>
<tr><td><p>Derived Classes
</p></td><td><p><a href="ohm.flip.reference.bool.html"><span class="code">ohm::flip::Bool</span> </a>
</p></td></tr>
<tr><td><p></p></td><td><p><a href="ohm.flip.reference.int64.html"><span class="code">ohm::flip::Int64</span> </a>
</p></td></tr>
<tr><td><p></p></td><td><p><a href="ohm.flip.reference.float64.html"><span class="code">ohm::flip::Float64</span> </a>
</p></td></tr>
<tr><td><p></p></td><td><p><a href="ohm.flip.reference.enum.html"><span class="code">ohm::flip::Enum</span> </a>
</p></td></tr>
<tr><td><p></p></td><td><p><a href="ohm.flip.reference.blob.html"><span class="code">ohm::flip::Blob</span> </a>
</p></td></tr>
<tr><td><p></p></td><td><p><a href="ohm.flip.reference.array.html"><span class="code">ohm::flip::Array</span> </a>
</p></td></tr>
<tr><td><p></p></td><td><p><a href="ohm.flip.reference.collection.html"><span class="code">ohm::flip::Collection</span> </a>
</p></td></tr>
<tr><td><p></p></td><td><p><a href="ohm.flip.reference.objectref.html"><span class="code">ohm::flip::ObjectRef</span> </a>
</p></td></tr>
<tr><td><p></p></td><td><p><a href="ohm.flip.reference.cue.html"><span class="code">ohm::flip::Cue</span> </a>
</p></td></tr>
</table>
<h2><a name="overview">Overview</a></h2>
<p>The
<span class="code">Object</span> 
class implements the base class of all Flip managed classes.
The following sections will only document the public API.</p>
<h2><a name="diagram">Partial Class Diagram</a></h2>
<center><img src="ohm.flip.reference.object.diagram.png" /></center>
<h2><a name="header">Methods Overview</a></h2>
<h3><a name="header.state">State</a></h3>
<ul>
<li><a href="#method.was_inited"><span class="code">was_inited</span> </a>
</li>
<li><a href="#method.was_restored"><span class="code">was_restored</span> </a>
</li>
<li><a href="#method.is_invalid"><span class="code">is_invalid</span> </a>
</li>
<li><a href="#method.has_conflict"><span class="code">has_conflict</span> </a>
</li>
<li><a href="#method.did_order_change"><span class="code">did_order_change</span> </a>
</li>
<li><a href="#method.did_parent_change"><span class="code">did_parent_change</span> </a>
</li>
<li><a href="#method.get_order"><span class="code">get_order</span> </a>
</li>
<li><a href="#method.get_old_order"><span class="code">get_old_order</span> </a>
</li>
</ul>
<h3><a name="header.navigating">Navigating</a></h3>
<ul>
<li><a href="#method.use_document"><span class="code">use_document</span> </a>
</li>
<li><a href="#method.get_ancestor"><span class="code">get_ancestor</span> </a>
</li>
<li><a href="#method.get_old_ancestor"><span class="code">get_old_ancestor</span> </a>
</li>
</ul>
<h3><a name="header.referencing">Referencing Objects</a></h3>
<ul>
<li><a href="#method.reset_data"><span class="code">reset_data</span> </a>
</li>
<li><a href="#method.get_data"><span class="code">get_data</span> </a>
</li>
</ul>
<h3><a name="header.referencing">Informations</a></h3>
<ul>
<li><a href="#method.get_ref"><span class="code">get_ref</span> </a>
</li>
<li><a href="#method.get_user_id"><span class="code">get_user_id</span> </a>
</li>
<li><a href="#method.is_self_created"><span class="code">is_self_created</span> </a>
</li>
</ul>
<h3><a name="header.referencing">Signaling</a></h3>
<ul>
<li><a href="#method.signal"><span class="code">send_signal</span> </a>
</li>
<li><a href="#method.signal_server"><span class="code">send_signal_server</span> </a>
</li>
</ul>
<h2><a name="method">Methods</a></h2>
<div class="sectioncode">
<h3><a name="method.was_inited">was_inited</a></h3>
<p>In an
<span class="code">document_changed</span> 
observer call, returns
<span class="code">true</span> 
if the object
was just inserted in the model,
<span class="code">false</span> 
otherwise.</p>
<div class="codeblock">
<table>
<tr><td><pre>bool           was_inited () const;</pre></td></tr>
</table>
</div>
</div>
<div class="sectioncode">
<h3><a name="method.was_restored">was_restored</a></h3>
<p>In an
<span class="code">document_changed</span> 
observer call, returns
<span class="code">true</span> 
if the object
was just erased from the model,
<span class="code">false</span> 
otherwise.</p>
<div class="codeblock">
<table>
<tr><td><pre>bool           was_restored () const;</pre></td></tr>
</table>
</div>
<div class="note"><p><strong>Note:</strong>while being erased, the object is still valid in the model, and will be
effectively erased after
<span class="code">document_changed</span> 
has returned</p></div>
</div>
<div class="sectioncode">
<h3><a name="method.is_invalid">is_invalid</a></h3>
<p>In an
<span class="code">document_changed</span> 
observer call, returns
<span class="code">true</span> 
if the object
contains a modification,
<span class="code">false</span> 
otherwise.</p>
<div class="codeblock">
<table>
<tr><td><pre>bool           is_invalid () const;</pre></td></tr>
</table>
</div>
<p>The modification may be one of the members of the object, but may also be
one of the elements of a container, if the class contains a container.
Invalidation is recursive. As a matter of fact, the root class is always
invalid when
<span class="code">document_changed</span> 
is called.</p>
</div>
<div class="sectioncode">
<h3><a name="method.has_conflict">has_conflict</a></h3>
<p>In an
<span class="code">document_changed</span> 
observer call, returns
<span class="code">true</span> 
if the object
contains a conflict,
<span class="code">false</span> 
otherwise.</p>
<div class="codeblock">
<table>
<tr><td><pre>bool           has_conflict () const;</pre></td></tr>
</table>
</div>
<p>A conflict is triggered when a transaction is refused from the server, because
it failed either the structural or logical validation.</p>
<p>The conflict may be one of the members of the object, but may also be
one of the elements of a container, if the class contains a container.
Conflicts are recursive. As a matter of fact, the root class is always
conflict when
<span class="code">document_changed</span> 
is called with a refused transaction.</p>
</div>
<div class="sectioncode">
<h3><a name="method.did_order_change">did_order_change</a></h3>
<p>In an
<span class="code">document_changed</span> 
observer call, returns
<span class="code">true</span> 
if the object
parent is a container, and the object order changed in its parent container,
<span class="code">false</span> 
otherwise.</p>
<div class="codeblock">
<table>
<tr><td><pre>bool           did_order_change () const;</pre></td></tr>
</table>
</div>
</div>
<div class="sectioncode">
<h3><a name="method.did_parent_change">did_parent_change</a></h3>
<p>In an
<span class="code">document_changed</span> 
observer call, returns
<span class="code">true</span> 
if the object
parent is a container, and the object parent container changed,
<span class="code">false</span> 
otherwise.</p>
<div class="codeblock">
<table>
<tr><td><pre>bool           did_order_change () const;</pre></td></tr>
</table>
</div>
<p>This function will only returns true when an object is moved from a container
to another.</p>
</div>
<div class="sectioncode">
<h3><a name="method.get_order">get_order</a></h3>
<p>Returns the order of the object in its container.</p>
<p>If the object is being restored, or if the object parent is not a container,
this function will return
<span class="code">size_t (-1)</span> 
.</p>
<div class="codeblock">
<table>
<tr><td><pre>size_t         get_order () const;</pre></td></tr>
</table>
</div>
<div class="warning"><p><strong>WARNING:</strong>it is invalid to call this function when the object is being
restored</p></div>
</div>
<div class="sectioncode">
<h3><a name="method.get_old_order">get_old_order</a></h3>
<p>Returns the old order of the object in its container.</p>
<p>If the object is being restored, or if the object parent is not a container,
this function will return
<span class="code">size_t (-1)</span> 
.</p>
<div class="codeblock">
<table>
<tr><td><pre>size_t         get_old_order () const;</pre></td></tr>
</table>
</div>
<div class="warning"><p><strong>WARNING:</strong>it is invalid to call this function when the object is being
inited</p></div>
</div>
<div class="sectioncode">
<h3><a name="method.use_document">use_document</a></h3>
<p>Returns the document to which this object is attached.</p>
<div class="codeblock">
<table>
<tr><td><pre>DocumentBase & use_document () const;</pre></td></tr>
</table>
</div>
<p>This function is usually used as a short hand to fetch the object associated
to a
<span class="code">flip::Ref</span> 
reference.</p>
</div>
<div class="sectioncode">
<h3><a name="method.get_ancestor">get_ancestor</a></h3>
<p>Searches recursively for the first parent of this of type
<span class="code">T</span> 
.</p>
<div class="codeblock">
<table>
<tr><td><pre>template &lt;class T&gt;</pre></td></tr>
<tr><td><pre>T &            get_ancestor ();</pre></td></tr>
</table>
</div>
<p>This function will throw if no ancestor of type
<span class="code">T</span> 
can be found
in the object ancestors.</p>
<p>This function is used very often to navigate the document. In particular
if
<span class="code">Root</span> 
is the root class,
<span class="code">get_ancestor &lt;Root&gt;  ()</span> 
is
a valid expression.</p>
<div class="warning"><p><strong>WARNING:</strong>it is invalid to call this function when the object is being
restored</p></div>
</div>
<div class="sectioncode">
<h3><a name="method.get_old_ancestor">get_old_ancestor</a></h3>
<p>Searches recursively for the first old parent of this of type
<span class="code">T</span> 
.</p>
<div class="codeblock">
<table>
<tr><td><pre>template &lt;class T&gt;</pre></td></tr>
<tr><td><pre>T &            get_old_ancestor ();</pre></td></tr>
</table>
</div>
<p>This function will throw if no old ancestor of type
<span class="code">T</span> 
can be found
in the old object ancestors.</p>
<div class="warning"><p><strong>WARNING:</strong>it is invalid to call this function when the object is being
inited</p></div>
</div>
<div class="sectioncode">
<h3><a name="method.reset_data">reset_data</a></h3>
<p>Reset the data associated to an object.</p>
<div class="codeblock">
<table>
<tr><td><pre>template &lt;class T&gt;</pre></td></tr>
<tr><td><pre>void           reset_data (T * ptr = 0);</pre></td></tr>
</table>
</div>
<p>This function is used to link an unlimited number of referenced object
of unique type to the flip Object.</p>
<p>It is used in two ways :</p>
<div class="codeblock">
<table>
<tr><td><pre>MyReferencedObject * ptr = new MyReferencedObject;</pre></td></tr>
<tr><td><pre>reset_data (ptr);                   // bind referenced object of type MyReferencedObject</pre></td></tr>
<tr><td><pre></pre></td></tr>
<tr><td><pre>reset_data &lt;MyReferencedObject&gt; (); // unbind referenced object of type MyReferencedObject</pre></td></tr>
</table>
</div>
<div class="note"><p><strong>Note:</strong>the client is responsible for releasing the object.</p></div>
</div>
<div class="sectioncode">
<h3><a name="method.get_data">get_data</a></h3>
<p>Retrieve the data associated to an object, or
<span class="code">0</span> 
if no data of the type
is available.</p>
<div class="codeblock">
<table>
<tr><td><pre>template &lt;class T&gt;</pre></td></tr>
<tr><td><pre>T *            get_data () const;</pre></td></tr>
</table>
</div>
</div>
<div class="sectioncode">
<h3><a name="method.get_ref">get_ref</a></h3>
<p>Returns the
<span class="code">flip::Ref</span> 
reference of an object.</p>
<div class="codeblock">
<table>
<tr><td><pre>flip::Ref      get_ref () const;</pre></td></tr>
</table>
</div>
</div>
<div class="sectioncode">
<h3><a name="method.get_user_id">get_user_id</a></h3>
<p>Convenient function that returns the user id number of an object (this value
is actually contained in the reference of the object).</p>
<div class="codeblock">
<table>
<tr><td><pre>archi::Int32   get_user_id () const;</pre></td></tr>
</table>
</div>
</div>
<div class="sectioncode">
<h3><a name="method.is_self_created">is_self_created</a></h3>
<p>Convenient function that returns
<span class="code">true</span> 
if this object was created by the
user running this function,
<span class="code">false</span> 
otherwise.</p>
<div class="codeblock">
<table>
<tr><td><pre>bool           is_self_created () const;</pre></td></tr>
</table>
</div>
</div>
<div class="sectioncode">
<h3><a name="method.send_signal">send_signal</a></h3>
<p>Send a signal to all the Flip threads of the running client.
Returns
<span class="code">true</span> 
if the operation was successful, false otherwise.</p>
<div class="codeblock">
<table>
<tr><td><pre>bool           send_signal (archi::UInt32 type, DataSPtr data_sptr = DataSPtr ()) const;</pre></td></tr>
</table>
</div>
<ul>
<li><span class="code">type</span> 
is an arbitraty denoting the type of signal
</li>
<li><span class="code">data_sptr</span> 
is an arbitrary piece of data bundled in a shared pointer
</li>
</ul>
<div class="important"><p><strong>Important:</strong>signals are not transactions and are therefore sent immediatly. This means
that if a client ends a transaction and then send a signal, the signal is very likely
to be received before the transaction. If ordering is important, use a
<span class="code">Cue</span> </p></div>
</div>
<div class="sectioncode">
<h3><a name="method.send_signal_server">send_signal_server</a></h3>
<p>Send a signal to the server.
Returns
<span class="code">true</span> 
if the operation was successful, false otherwise.</p>
<div class="codeblock">
<table>
<tr><td><pre>bool           send_signal (archi::UInt32 type, DataSPtr data_sptr = DataSPtr ()) const;</pre></td></tr>
</table>
</div>
<ul>
<li><span class="code">type</span> 
is an arbitraty denoting the type of signal
</li>
<li><span class="code">data_sptr</span> 
is an arbitrary piece of data bundled in a shared pointer
</li>
</ul>
</div>


<div class="nav" align="right"><a href="ohm.flip.reference.int64.html">previous</a><span>&nbsp;</span><a href="ohm.flip.reference.objectmold.html">next</a></div>

<div class="bottomspacer">&nbsp;</div>

</div>

<footer>
<a href="index.html">Ohm Force Developer Library</a> > <a href="ohm.flip.reference.overview.html">Flip Reference</a> > <a href="ohm.flip.reference.object.html">Object Class Reference</a>
</footer>


</body>

</html>