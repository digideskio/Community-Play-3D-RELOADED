<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Flip Reference: DocumentBase Class Reference</title>
<link rel="stylesheet" href="docpage.css" type="text/css" />
</head>

<script type="text/javascript">
function searchfield_focus(obj)
{
obj.style.color="#000"
if (obj.value=="Search Library")
	{obj.value=""}
}
</script>


<body>

<div id="header">
<div style="width: 1006px;">
<!--<form method="get" class="search" style="padding-top: 5px;"  action="http://www.google.com/search">
<input onfocus="searchfield_focus(this)" type="search" class="search" name="q" value="Search Library">
<input type="hidden" name="sitesearch" value="">
</form>-->
</div>
<p><a href="index.html">Ohm Force Developer Library</a><a href="ohm.flip.reference.overview.html">Flip Reference</a></p>
</div>

<div id="toc">
<p>Flip Reference</p>
<ul>
<li><a href="ohm.flip.reference.overview.html">Overview</a></li>
<li><a href="ohm.flip.reference.args.html">Args Class Reference</a></li>
<li><a href="ohm.flip.reference.array.html">Array Template Class Reference</a></li>
<li><a href="ohm.flip.reference.bool.html">Bool Class Reference</a></li>
<li><a href="ohm.flip.reference.blob.html">Blob Class Reference</a></li>
<li><a href="ohm.flip.reference.classdescmgr.html">ClassDescManager Class Reference</a></li>
<li><a href="ohm.flip.reference.classdesc.html">ClassDescription Template Class Reference</a></li>
<li><a href="ohm.flip.reference.collection.html">Collection Template Class Reference</a></li>
<li><a href="ohm.flip.reference.cue.html">Cue Class Reference</a></li>
<li><a href="ohm.flip.reference.docbase.html"><strong>DocumentBase Class Reference</strong></a>
	<ul>
	<li><a href="ohm.flip.reference.docbase.html#overview">Overview</a></li>
	<li><a href="ohm.flip.reference.docbase.html#diagram">Partial Class Diagram</a></li>
	<li><a href="ohm.flip.reference.docbase.html#header">Methods Overview</a></li>
	<li><a href="ohm.flip.reference.docbase.html#header2">Constants Overview</a></li>
	<li><a href="ohm.flip.reference.docbase.html#method">Methods</a></li>
	<li><a href="ohm.flip.reference.docbase.html#constant">Constants</a></li>
	</ul>
</li>
<li><a href="ohm.flip.reference.docclient.html">DocumentClient Class Reference</a></li>
<li><a href="ohm.flip.reference.doclocal.html">DocumentLocal Class Reference</a></li>
<li><a href="ohm.flip.reference.docserver.html">DocumentServer Class Reference</a></li>
<li><a href="ohm.flip.reference.docsignal.html">DocumentSignal Class Reference</a></li>
<li><a href="ohm.flip.reference.doctweaker.html">DocumentTweaker Template Class Reference</a></li>
<li><a href="ohm.flip.reference.docvalid.html">DocumentValidator Template Class Reference</a></li>
<li><a href="ohm.flip.reference.enum.html">Enum Template Class Reference</a></li>
<li><a href="ohm.flip.reference.enumdescmgr.html">EnumDescManager Class Reference</a></li>
<li><a href="ohm.flip.reference.enumdesc.html">EnumDescription Template Class Reference</a></li>
<li><a href="ohm.flip.reference.findmask.html">FindMask Enum Reference</a></li>
<li><a href="ohm.flip.reference.float64.html">Float64 Class Reference</a></li>
<li><a href="ohm.flip.reference.int64.html">Int64 Class Reference</a></li>
<li><a href="ohm.flip.reference.object.html">Object Class Reference</a></li>
<li><a href="ohm.flip.reference.objectmold.html">ObjectMold Class Reference</a></li>
<li><a href="ohm.flip.reference.objectmolddata.html">ObjectMoldData Class Reference</a></li>
<li><a href="ohm.flip.reference.objectref.html">ObjectRef Template Class Reference</a></li>
<li><a href="ohm.flip.reference.pasteboard.html">PasteBoard Class Reference</a></li>
<li><a href="ohm.flip.reference.ref.html">Ref Type Reference</a></li>
<li><a href="ohm.flip.reference.scribe.html">Scribe Class Reference</a></li>
<li><a href="ohm.flip.reference.txguard.html">TxSessionGuard Class Reference</a></li>
<li><a href="ohm.flip.reference.validwriter.html">ValidationReportWriter Class Reference</a></li>
</ul>

<div class="bottomspacer">&nbsp;</div>
</div>

<div id="content">

<div class="nav" align="right"><a href="ohm.flip.reference.cue.html">previous</a><span>&nbsp;</span><a href="ohm.flip.reference.docclient.html">next</a></div>

<h1>DocumentBase Class Reference</h1>

<table>
<tr><td><p>Namespace
</p></td><td><p><span class="code">ohm::flip</span> 
</p></td></tr>
<tr><td><p>Declared in
</p></td><td><p><span class="code">ohm/flip/private/DocumentBase.h</span> 
</p></td></tr>
<tr><td><p>Derived Classes
</p></td><td><p><a href="ohm.flip.reference.docclient.html"><span class="code">ohm::flip::DocumentClient</span> </a>
</p></td></tr>
<tr><td><p></p></td><td><p><a href="ohm.flip.reference.docserver.html"><span class="code">ohm::flip::DocumentServer</span> </a>
</p></td></tr>
<tr><td><p></p></td><td><p><a href="ohm.flip.reference.doclocal.html"><span class="code">ohm::flip::DocumentLocal</span> </a>
</p></td></tr>
</table>
<h2><a name="overview">Overview</a></h2>
<p>The
<span class="code">DocumentBase</span> 
class implements a Flip document base class.
The following sections will only document the public API.</p>
<h2><a name="diagram">Partial Class Diagram</a></h2>
<center><img src="ohm.flip.reference.docbase.diagram.png" /></center>
<h2><a name="header">Methods Overview</a></h2>
<h3><a name="header.casting">Casting</a></h3>
<ul>
<li><a href="#method.get_root"><span class="code">get_root</span> </a>
</li>
<li><a href="#method.get_object"><span class="code">get_object</span> </a>
</li>
</ul>
<h3><a name="header.state">State</a></h3>
<ul>
<li><a href="#method.get_controller"><span class="code">get_controller</span> </a>
</li>
</ul>
<h2><a name="header2">Constants Overview</a></h2>
<p>The
<span class="code">Controller</span> 
enum constants are usually used in an
observer
<span class="code">document_changed</span> 
call to know what was the source
of the model control.</p>
<ul>
<li><a href="#constant.controller"><span class="code">Controller</span> 
enum</a>
</li>
<li><a href="#constant.Controller_SERVER"><span class="code">Controller_SERVER</span> </a>
</li>
<li><a href="#constant.Controller_SELF"><span class="code">Controller_SELF</span> </a>
</li>
<li><a href="#constant.Controller_NETWORK_EXT"><span class="code">Controller_NETWORK_EXT</span> </a>
</li>
<li><a href="#constant.Controller_NETWORK_ACK"><span class="code">Controller_NETWORK_ACK</span> </a>
</li>
<li><a href="#constant.Controller_NETWORK_DENY"><span class="code">Controller_NETWORK_DENY</span> </a>
</li>
<li><a href="#constant.Controller_LOCAL"><span class="code">Controller_LOCAL</span> </a>
</li>
<li><a href="#constant.Controller_UNDO_REDO"><span class="code">Controller_UNDO_REDO</span> </a>
</li>
<li><a href="#constant.Controller_DOC_READ"><span class="code">Controller_DOC_READ</span> </a>
</li>
<li><a href="#constant.Controller_DOC_RELEASE"><span class="code">Controller_DOC_RELEASE</span> </a>
</li>
</ul>
<h2><a name="method">Methods</a></h2>
<div class="sectioncode">
<h3><a name="method.get_root">get_root</a></h3>
<p>Returns the root object.</p>
<div class="codeblock">
<table>
<tr><td><pre>Object *       get_root ();</pre></td></tr>
<tr><td><pre>template &lt;class T&gt;</pre></td></tr>
<tr><td><pre>T &            get_root ();</pre></td></tr>
</table>
</div>
<p>The first version will return a pointer to an
<span class="code">ohm::flip::Object</span> 
.</p>
<p>The second version will return a reference to the root object, as seen as
an
<span class="code">T</span> 
type, and will throw if dynamic casting fails.</p>
</div>
<div class="sectioncode">
<h3><a name="method.get_object">get_object</a></h3>
<p>Returns the object associated to the Flip reference number
<span class="code">ref</span> 
,
or
<span class="code">0</span> 
if no object is associated to the Flip reference number
<span class="code">ref</span> 
.</p>
<div class="codeblock">
<table>
<tr><td><pre>Object *       get_object (Ref ref);</pre></td></tr>
<tr><td><pre>template &lt;class T&gt;</pre></td></tr>
<tr><td><pre>T *            get_object (Ref ref);</pre></td></tr>
</table>
</div>
<p>The first version will return a pointer to an
<span class="code">ohm::flip::Object</span> 
.</p>
<p>The second version will return a pointer object, as seen as
an
<span class="code">T</span> 
type, and will return
<span class="code">0</span> 
if dynamic casting fails.</p>
<p>This function is usually used widely because it is a safe way to keep
a reference to an object, as caching Flip object pointers is not safe.</p>
<div class="warning"><p><strong>WARNING:</strong>Caching a Flip object pointer is not safe. Any developer not following
this rule shall be severly punished.</p></div>
</div>
<div class="sectioncode">
<h3><a name="method.get_controller">get_controller</a></h3>
<p>Returns the current
<a href="#constant.controller">Controller</a>
of
the document. The different meaning of those controllers are exposed below.</p>
<div class="codeblock">
<table>
<tr><td><pre>Controller     get_controller () const;</pre></td></tr>
</table>
</div>
</div>
<h2><a name="constant">Constants</a></h2>
<div class="sectioncode">
<h3><a name="constant.controller">Controller</a></h3>
<p>The
<span class="code">Controller</span> 
enum, which is in the scope of the
<span class="code">DocumentBase</span> 
class is exposed below.</p>
</div>
<div class="sectioncode">
<h3><a name="constant.Controller_SERVER">Controller_SERVER</a></h3>
<p>Indicates that the source of the model control is the server, that is the
transaction was created and issued from the server.</p>
</div>
<div class="sectioncode">
<h3><a name="constant.Controller_SELF">Controller_SELF</a></h3>
<p>Indicates that the source of the model control is the current Flip thread.
In particular when only one Flip thread is used, this means that the source
of the model control originated from the current client.</p>
</div>
<div class="sectioncode">
<h3><a name="constant.Controller_NETWORK_EXT">Controller_NETWORK_EXT</a></h3>
<p>Indicates that the source of the model control is another client on the
Flip network.</p>
</div>
<div class="sectioncode">
<h3><a name="constant.Controller_NETWORK_ACK">Controller_NETWORK_ACK</a></h3>
<p>Indicates that the source of the model control is the server which
validated succesfully the client transaction.</p>
<div class="note"><p><strong>Note:</strong>this rarely occurs in practice</p></div>
</div>
<div class="sectioncode">
<h3><a name="constant.Controller_NETWORK_DENY">Controller_NETWORK_DENY</a></h3>
<p>Indicates that the source of the model control is the server which
rejected the client transaction, because either the structural validation
or logical validation failed.</p>
</div>
<div class="sectioncode">
<h3><a name="constant.Controller_LOCAL">Controller_LOCAL</a></h3>
<p>Indicates that the source of the model control is issued from the same
Flip client, but from another Flip thread.
In particular when only one Flip thread is used, this controller value
is never set.</p>
</div>
<div class="sectioncode">
<h3><a name="constant.Controller_UNDO_REDO">Controller_UNDO_REDO</a></h3>
<p>Indicates that the source of the model control is issued from the
Flip undo/redo system.</p>
</div>
<div class="sectioncode">
<h3><a name="constant.Controller_DOC_READ">Controller_DOC_READ</a></h3>
<p>Indicates that the source of the model control is the initial read of the
document. This is the very first controller used and only one until the
document is closed.</p>
</div>
<div class="sectioncode">
<h3><a name="constant.Controller_DOC_RELEASE">Controller_DOC_RELEASE</a></h3>
<p>Indicates that the source of the model control is the final close of the
document. This is the very last controller used and only one until some
document is opened again.</p>
</div>


<div class="nav" align="right"><a href="ohm.flip.reference.cue.html">previous</a><span>&nbsp;</span><a href="ohm.flip.reference.docclient.html">next</a></div>

<div class="bottomspacer">&nbsp;</div>

</div>

<footer>
<a href="index.html">Ohm Force Developer Library</a> > <a href="ohm.flip.reference.overview.html">Flip Reference</a> > <a href="ohm.flip.reference.docbase.html">DocumentBase Class Reference</a>
</footer>


</body>

</html>