<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Flip Reference: DocumentLocal Class Reference</title>
<link rel="stylesheet" href="docpage.css" type="text/css" />
</head>

<script type="text/javascript">
function searchfield_focus(obj)
{
obj.style.color="#000"
if (obj.value=="Search Library")
	{obj.value=""}
}
</script>


<body>

<div id="header">
<div style="width: 1006px;">
<!--<form method="get" class="search" style="padding-top: 5px;"  action="http://www.google.com/search">
<input onfocus="searchfield_focus(this)" type="search" class="search" name="q" value="Search Library">
<input type="hidden" name="sitesearch" value="">
</form>-->
</div>
<p><a href="index.html">Ohm Force Developer Library</a><a href="ohm.flip.reference.overview.html">Flip Reference</a></p>
</div>

<div id="toc">
<p>Flip Reference</p>
<ul>
<li><a href="ohm.flip.reference.overview.html">Overview</a></li>
<li><a href="ohm.flip.reference.args.html">Args Class Reference</a></li>
<li><a href="ohm.flip.reference.array.html">Array Template Class Reference</a></li>
<li><a href="ohm.flip.reference.bool.html">Bool Class Reference</a></li>
<li><a href="ohm.flip.reference.blob.html">Blob Class Reference</a></li>
<li><a href="ohm.flip.reference.classdescmgr.html">ClassDescManager Class Reference</a></li>
<li><a href="ohm.flip.reference.classdesc.html">ClassDescription Template Class Reference</a></li>
<li><a href="ohm.flip.reference.collection.html">Collection Template Class Reference</a></li>
<li><a href="ohm.flip.reference.cue.html">Cue Class Reference</a></li>
<li><a href="ohm.flip.reference.docbase.html">DocumentBase Class Reference</a></li>
<li><a href="ohm.flip.reference.docclient.html">DocumentClient Class Reference</a></li>
<li><a href="ohm.flip.reference.doclocal.html"><strong>DocumentLocal Class Reference</strong></a>
	<ul>
	<li><a href="ohm.flip.reference.doclocal.html#overview">Overview</a></li>
	<li><a href="ohm.flip.reference.doclocal.html#diagram">Partial Class Diagram</a></li>
	<li><a href="ohm.flip.reference.doclocal.html#header">Methods Overview</a></li>
	<li><a href="ohm.flip.reference.doclocal.html#method">Methods</a></li>
	</ul>
</li>
<li><a href="ohm.flip.reference.docserver.html">DocumentServer Class Reference</a></li>
<li><a href="ohm.flip.reference.docsignal.html">DocumentSignal Class Reference</a></li>
<li><a href="ohm.flip.reference.doctweaker.html">DocumentTweaker Template Class Reference</a></li>
<li><a href="ohm.flip.reference.docvalid.html">DocumentValidator Template Class Reference</a></li>
<li><a href="ohm.flip.reference.enum.html">Enum Template Class Reference</a></li>
<li><a href="ohm.flip.reference.enumdescmgr.html">EnumDescManager Class Reference</a></li>
<li><a href="ohm.flip.reference.enumdesc.html">EnumDescription Template Class Reference</a></li>
<li><a href="ohm.flip.reference.findmask.html">FindMask Enum Reference</a></li>
<li><a href="ohm.flip.reference.float64.html">Float64 Class Reference</a></li>
<li><a href="ohm.flip.reference.int64.html">Int64 Class Reference</a></li>
<li><a href="ohm.flip.reference.object.html">Object Class Reference</a></li>
<li><a href="ohm.flip.reference.objectmold.html">ObjectMold Class Reference</a></li>
<li><a href="ohm.flip.reference.objectmolddata.html">ObjectMoldData Class Reference</a></li>
<li><a href="ohm.flip.reference.objectref.html">ObjectRef Template Class Reference</a></li>
<li><a href="ohm.flip.reference.pasteboard.html">PasteBoard Class Reference</a></li>
<li><a href="ohm.flip.reference.ref.html">Ref Type Reference</a></li>
<li><a href="ohm.flip.reference.scribe.html">Scribe Class Reference</a></li>
<li><a href="ohm.flip.reference.txguard.html">TxSessionGuard Class Reference</a></li>
<li><a href="ohm.flip.reference.validwriter.html">ValidationReportWriter Class Reference</a></li>
</ul>

<div class="bottomspacer">&nbsp;</div>
</div>

<div id="content">

<div class="nav" align="right"><a href="ohm.flip.reference.docclient.html">previous</a><span>&nbsp;</span><a href="ohm.flip.reference.docserver.html">next</a></div>

<h1>DocumentLocal Class Reference</h1>

<table>
<tr><td><p>Namespace
</p></td><td><p><span class="code">ohm::flip</span> 
</p></td></tr>
<tr><td><p>Inherits from
</p></td><td><p><a href="ohm.flip.reference.docbase.html"><span class="code">ohm::flip::DocumentBase</span> </a>
</p></td></tr>
<tr><td><p>Declared in
</p></td><td><p><span class="code">ohm/flip/DocumentLocal.h</span> 
</p></td></tr>
</table>
<h2><a name="overview">Overview</a></h2>
<p>The
<span class="code">DocumentLocal</span> 
class implements a simple Flip document with an embedded
client and server side. It should be used to quickly test the Flip framework (as
in the
<a href="ohm.flip.babystep.about.html">Babystep Tutorials</a>
) or as a easier way
to implement a Flip application without its collaboration-oriented features.
The following sections will only document the public API.</p>
<h2><a name="diagram">Partial Class Diagram</a></h2>
<center><img src="ohm.flip.reference.doclocal.diagram.png" /></center>
<h2><a name="header">Methods Overview</a></h2>
<h3><a name="header.ctor">Constructor</a></h3>
<ul>
<li><a href="#method.ctor"><span class="code">DocumentLocal</span> 
constructor</a>
</li>
</ul>
<h3><a name="header.initrestore">Initing/Restoring</a></h3>
<ul>
<li><a href="#method.init"><span class="code">init</span> </a>
</li>
<li><a href="#method.restore"><span class="code">restore</span> </a>
</li>
</ul>
<h3><a name="header.observer">Manipulating Flip Threads</a></h3>
<ul>
<li><a href="#method.create"><span class="code">create</span> </a>
</li>
<li><a href="#method.pre_release"><span class="code">pre_release</span> </a>
</li>
<li><a href="#method.release"><span class="code">release</span> </a>
</li>
</ul>
<h3><a name="header.manipulating">Manipulating</a></h3>
<ul>
<li><a href="#method.AutoUserInputs"><span class="code">AutoUserInputs</span> 
class</a>
</li>
<li><a href="#method.notify_pre_user_inputs_tasks"><span class="code">notify_pre_user_inputs_tasks</span> </a>
</li>
<li><a href="#method.notify_post_user_inputs_tasks"><span class="code">notify_post_user_inputs_tasks</span> </a>
</li>
</ul>
<h2><a name="method">Methods</a></h2>
<div class="sectioncode">
<h3><a name="method.ctor">DocumentLocal constructor</a></h3>
<p>Constructs a
<span class="code">DocumentLocal</span> 
and bind it a
<span class="code">DocumentObserver</span> </p>
<div class="codeblock">
<table>
<tr><td><pre>               DocumentLocal (DocumentObserverMaster & observer);</pre></td></tr>
</table>
</div>
</div>
<div class="sectioncode">
<h3><a name="method.init">init</a></h3>
<p>Init a
<span class="code">DocumentLocal</span> 
with the document located on the disk at
<span class="code">path</span> 
as an
<span class="code">fopen</span> 
styled path. If the file pointed by
<span class="code">path</span> 
does not exist, create a blank document with a root class.</p>
<div class="codeblock">
<table>
<tr><td><pre>void           init ();</pre></td></tr>
</table>
</div>
</div>
<div class="sectioncode">
<h3><a name="method.restore">restore</a></h3>
<p>Restore a
<span class="code">DocumentLocal</span> 
.</p>
<div class="codeblock">
<table>
<tr><td><pre>void           restore ();</pre></td></tr>
</table>
</div>
</div>
<div class="sectioncode">
<h3><a name="method.create">create</a></h3>
<p>Creates a Flip thread. Returns a reference to it.</p>
<div class="codeblock">
<table>
<tr><td><pre>DocumentClientMasterSlot &</pre></td></tr>
<tr><td><pre>               create (DocumentClientMaster & document_master);</pre></td></tr>
</table>
</div>
</div>
<div class="sectioncode">
<h3><a name="method.pre_release">pre_release</a></h3>
<p>Pre-release a Flip thread. All Flip threads must be pre-released before
they can be released.</p>
<div class="codeblock">
<table>
<tr><td><pre>void           pre_release ();</pre></td></tr>
</table>
</div>
</div>
<div class="sectioncode">
<h3><a name="method.release">release</a></h3>
<p>Release a Flip thread.</p>
<div class="codeblock">
<table>
<tr><td><pre>void           release ();</pre></td></tr>
</table>
</div>
</div>
<div class="sectioncode">
<h3><a name="method.AutoUserInputs">AutoUserInputs class</a></h3>
<p>Implements an automatic way to let know the Flip framework that a
transaction begin might occur, or that a transaction comes to its end, and
acts as a safe guard.</p>
<div class="codeblock">
<table>
<tr><td><pre>            AutoUserInputs (DocumentBase & document);</pre></td></tr>
<tr><td><pre>virtual     ~AutoUserInputs ();</pre></td></tr>
</table>
</div>
<p>Each function that might change the model must be surrounded with an automatic
variable of the type of this class. Usually this is done in the top function
that handles user inputs or timers.</p>
<div class="codeblock">
<p><strong>Listing</strong>Example of implementation
</p>
<table>
<tr><td><pre>void  MySystemView::handle_user_inputs (SystemEvent & event)</pre></td></tr>
<tr><td><pre>{</pre></td></tr>
<tr><td><pre>   ohm::flip::AutoUserInputs auto_ui (_document);</pre></td></tr>
<tr><td><pre></pre></td></tr>
<tr><td><pre>   switch (event._type)</pre></td></tr>
<tr><td><pre>   {</pre></td></tr>
<tr><td><small><pre>      [...]</pre></small></td></tr>
<tr><td><pre>   }</pre></td></tr>
<tr><td><pre>}</pre></td></tr>
</table>
</div>
<p>Internally,
<span class="code">AutoUserInputs</span> 
will call
<span class="code">notify_pre_user_inputs_tasks</span> 
and
<span class="code">notify_post_user_inputs_tasks</span> 
in its destructor.</p>
</div>
<div class="sectioncode">
<h3><a name="method.notify_pre_user_inputs_tasks">notify_pre_user_inputs_tasks</a></h3>
<p>Indicates to the Flip framework that a transaction might start, and
acts as a safe guard.</p>
<div class="codeblock">
<table>
<tr><td><pre>void           notify_pre_user_inputs_tasks ();</pre></td></tr>
</table>
</div>
</div>
<div class="sectioncode">
<h3><a name="method.notify_post_user_inputs_tasks">notify_post_user_inputs_tasks</a></h3>
<p>Indicates to the Flip framework that any opened transactions must be ended.</p>
<div class="codeblock">
<table>
<tr><td><pre>void           notify_post_user_inputs_tasks ();</pre></td></tr>
</table>
</div>
</div>


<div class="nav" align="right"><a href="ohm.flip.reference.docclient.html">previous</a><span>&nbsp;</span><a href="ohm.flip.reference.docserver.html">next</a></div>

<div class="bottomspacer">&nbsp;</div>

</div>

<footer>
<a href="index.html">Ohm Force Developer Library</a> > <a href="ohm.flip.reference.overview.html">Flip Reference</a> > <a href="ohm.flip.reference.doclocal.html">DocumentLocal Class Reference</a>
</footer>


</body>

</html>