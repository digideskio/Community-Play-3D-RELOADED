<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Flip Reference: Blob Class Reference</title>
<link rel="stylesheet" href="docpage.css" type="text/css" />
</head>

<script type="text/javascript">
function searchfield_focus(obj)
{
obj.style.color="#000"
if (obj.value=="Search Library")
	{obj.value=""}
}
</script>


<body>

<div id="header">
<div style="width: 1006px;">
<!--<form method="get" class="search" style="padding-top: 5px;"  action="http://www.google.com/search">
<input onfocus="searchfield_focus(this)" type="search" class="search" name="q" value="Search Library">
<input type="hidden" name="sitesearch" value="">
</form>-->
</div>
<p><a href="index.html">Ohm Force Developer Library</a><a href="ohm.flip.reference.overview.html">Flip Reference</a></p>
</div>

<div id="toc">
<p>Flip Reference</p>
<ul>
<li><a href="ohm.flip.reference.overview.html">Overview</a></li>
<li><a href="ohm.flip.reference.args.html">Args Class Reference</a></li>
<li><a href="ohm.flip.reference.array.html">Array Template Class Reference</a></li>
<li><a href="ohm.flip.reference.bool.html">Bool Class Reference</a></li>
<li><a href="ohm.flip.reference.blob.html"><strong>Blob Class Reference</strong></a>
	<ul>
	<li><a href="ohm.flip.reference.blob.html#overview">Overview</a></li>
	<li><a href="ohm.flip.reference.blob.html#diagram">Partial Class Diagram</a></li>
	<li><a href="ohm.flip.reference.blob.html#header">Methods Overview</a></li>
	<li><a href="ohm.flip.reference.blob.html#method">Methods</a></li>
	</ul>
</li>
<li><a href="ohm.flip.reference.classdescmgr.html">ClassDescManager Class Reference</a></li>
<li><a href="ohm.flip.reference.classdesc.html">ClassDescription Template Class Reference</a></li>
<li><a href="ohm.flip.reference.collection.html">Collection Template Class Reference</a></li>
<li><a href="ohm.flip.reference.cue.html">Cue Class Reference</a></li>
<li><a href="ohm.flip.reference.docbase.html">DocumentBase Class Reference</a></li>
<li><a href="ohm.flip.reference.docclient.html">DocumentClient Class Reference</a></li>
<li><a href="ohm.flip.reference.doclocal.html">DocumentLocal Class Reference</a></li>
<li><a href="ohm.flip.reference.docserver.html">DocumentServer Class Reference</a></li>
<li><a href="ohm.flip.reference.docsignal.html">DocumentSignal Class Reference</a></li>
<li><a href="ohm.flip.reference.doctweaker.html">DocumentTweaker Template Class Reference</a></li>
<li><a href="ohm.flip.reference.docvalid.html">DocumentValidator Template Class Reference</a></li>
<li><a href="ohm.flip.reference.enum.html">Enum Template Class Reference</a></li>
<li><a href="ohm.flip.reference.enumdescmgr.html">EnumDescManager Class Reference</a></li>
<li><a href="ohm.flip.reference.enumdesc.html">EnumDescription Template Class Reference</a></li>
<li><a href="ohm.flip.reference.findmask.html">FindMask Enum Reference</a></li>
<li><a href="ohm.flip.reference.float64.html">Float64 Class Reference</a></li>
<li><a href="ohm.flip.reference.int64.html">Int64 Class Reference</a></li>
<li><a href="ohm.flip.reference.object.html">Object Class Reference</a></li>
<li><a href="ohm.flip.reference.objectmold.html">ObjectMold Class Reference</a></li>
<li><a href="ohm.flip.reference.objectmolddata.html">ObjectMoldData Class Reference</a></li>
<li><a href="ohm.flip.reference.objectref.html">ObjectRef Template Class Reference</a></li>
<li><a href="ohm.flip.reference.pasteboard.html">PasteBoard Class Reference</a></li>
<li><a href="ohm.flip.reference.ref.html">Ref Type Reference</a></li>
<li><a href="ohm.flip.reference.scribe.html">Scribe Class Reference</a></li>
<li><a href="ohm.flip.reference.txguard.html">TxSessionGuard Class Reference</a></li>
<li><a href="ohm.flip.reference.validwriter.html">ValidationReportWriter Class Reference</a></li>
</ul>

<div class="bottomspacer">&nbsp;</div>
</div>

<div id="content">

<div class="nav" align="right"><a href="ohm.flip.reference.bool.html">previous</a><span>&nbsp;</span><a href="ohm.flip.reference.classdescmgr.html">next</a></div>

<h1>Blob Class Reference</h1>

<table>
<tr><td><p>Namespace
</p></td><td><p><span class="code">ohm::flip</span> 
</p></td></tr>
<tr><td><p>Inherits from
</p></td><td><p><a href="ohm.flip.reference.object.html"><span class="code">ohm::flip::Object</span> </a>
</p></td></tr>
<tr><td><p>Declared in
</p></td><td><p><span class="code">ohm/flip/Blob.h</span> 
</p></td></tr>
<tr><td><p>Companion Guide
</p></td><td><p><a href="ohm.flip.guide.class.html">Flip Programming Guide: Writing a Flip Class Part 1</a>
</p></td></tr>
<tr><td><p></p></td><td><p><a href="ohm.flip.guide.blob.html">Flip Programming Guide: Using Blobs</a>
</p></td></tr>
</table>
<h2><a name="overview">Overview</a></h2>
<p>The
<span class="code">Blob</span> 
class implements a Flip class holding an opaque piece of data.
The following sections will only document the public API.</p>
<h2><a name="diagram">Partial Class Diagram</a></h2>
<center><img src="ohm.flip.reference.blob.diagram.png" /></center>
<h2><a name="header">Methods Overview</a></h2>
<h3><a name="header.assign">Assigning</a></h3>
<ul>
<li><a href="#method.ctor"><span class="code">ctor</span> </a>
</li>
<li><a href="#method.set"><span class="code">set</span> </a>
</li>
</ul>
<h3><a name="header.manipulating">Manipulating</a></h3>
<ul>
<li><a href="#method.clear"><span class="code">clear</span> </a>
</li>
<li><a href="#method.subset"><span class="code">subset</span> </a>
</li>
</ul>
<h3><a name="header.casting">Casting</a></h3>
<ul>
<li><a href="#method.get"><span class="code">get</span> </a>
</li>
<li><a href="#method.to_string"><span class="code">to_string</span> </a>
</li>
<li><a href="#method.get_old_data"><span class="code">get_old_data</span> </a>
</li>
</ul>
<h3><a name="header.capacity">Capacity</a></h3>
<ul>
<li><a href="#method.empty"><span class="code">empty</span> </a>
</li>
<li><a href="#method.size"><span class="code">size</span> </a>
</li>
</ul>
<h3><a name="header.differencing">Differencing</a></h3>
<ul>
<li><a href="#method.did_data_change"><span class="code">did_data_change</span> </a>
</li>
</ul>
<h3><a name="header.writing">Writing Properties</a></h3>
<ul>
<li><a href="#method.push_encoder"><span class="code">push_encoder</span> </a>
</li>
<li><a href="#method.push_encoder_base64"><span class="code">push_encoder_base64</span> </a>
</li>
<li><a href="#method.push_encoder_deflate"><span class="code">push_encoder_deflate</span> </a>
</li>
<li><a href="#method.push_encoder_escaped_ascii"><span class="code">push_encoder_escaped_ascii</span> </a>
</li>
<li><a href="#method.push_encoder_hexadecimal"><span class="code">push_encoder_hexadecimal</span> </a>
</li>
<li><a href="#method.set_inline"><span class="code">set_inline</span> </a>
</li>
</ul>
<h2><a name="method">Methods</a></h2>
<div class="sectioncode">
<h3><a name="method.ctor">ctor</a></h3>
<p>Sets the value at post construction stage.</p>
<div class="codeblock">
<table>
<tr><td><pre>virtual void   ctor (ohm::flip::Args & args);</pre></td></tr>
<tr><td><pre>void           ctor (const archi::UByte * data_ptr, size_t data_size);</pre></td></tr>
</table>
</div>
<p>The first version sets the value from a cascaded arguments object
<a href="ohm.flip.reference.args.html"><span class="code">ohm::flip::Args</span> </a></p>
</div>
<div class="sectioncode">
<h3><a name="method.set">set</a></h3>
<p>Sets the data.</p>
<div class="codeblock">
<table>
<tr><td><pre>void           set (const archi::UByte * data_ptr, size_t data_size);</pre></td></tr>
<tr><td><pre>void           set (const std::string & str);</pre></td></tr>
</table>
</div>
<p>The second version is a convenient function that transform a
<span class="code">std::string</span> 
in an opaque data type and set it to this. It is usually used in conjonction
with the
<span class="code">Encoder_ESCAPED_ASCII</span> 
using
<span class="code">push_encoder_escaped_ascii</span> 
.</p>
</div>
<div class="sectioncode">
<h3><a name="method.clear">clear</a></h3>
<p>Empties the data.</p>
<div class="codeblock">
<table>
<tr><td><pre>void           clear ();</pre></td></tr>
</table>
</div>
<p>This convenient function is an alias of
<span class="code">set (0, 0)</span> 
.</p>
</div>
<div class="sectioncode">
<h3><a name="method.subset">subset</a></h3>
<p>Sets a part of the data, leaving the rest untouched.</p>
<div class="codeblock">
<table>
<tr><td><pre>void           subset (size_t data_pos, const archi::UByte * data_ptr, size_t data_size);</pre></td></tr>
</table>
</div>
<p>The function will replace the data in the range
<span class="code">[data_pos; data_pos + data_size)</span> 
by the data
<span class="code">[data_ptr; data_ptr + data_size)</span> </p>
</div>
<div class="sectioncode">
<h3><a name="method.get">get</a></h3>
<p>Returns the data of
<span class="code">this</span> 
.</p>
<div class="codeblock">
<table>
<tr><td><pre>const Data &   get () const;</pre></td></tr>
</table>
</div>
<div class="warning"><p><strong>WARNING:</strong>it is invalid to call this function when the object is being
restored</p></div>
</div>
<div class="sectioncode">
<h3><a name="method.to_string">to_string</a></h3>
<p>Convenient function that returns the data of
<span class="code">this</span> 
as a
<span class="code">std::string</span> 
.</p>
<div class="codeblock">
<table>
<tr><td><pre>std::string    to_string () const;</pre></td></tr>
</table>
</div>
<div class="warning"><p><strong>WARNING:</strong>The
<span class="code">to_string</span> 
method returns the string by value,
<strong>not</strong> by reference.</p></div>
<div class="warning"><p><strong>WARNING:</strong>it is invalid to call this function when the object is being
restored</p></div>
</div>
<div class="sectioncode">
<h3><a name="method.get_old_data">get_old_data</a></h3>
<p>Returns the old data of
<span class="code">this</span> 
.</p>
<div class="codeblock">
<table>
<tr><td><pre>const Data &   get_old_data () const;</pre></td></tr>
</table>
</div>
<div class="warning"><p><strong>WARNING:</strong>it is invalid to call this function when the object is being
inited</p></div>
</div>
<div class="sectioncode">
<h3><a name="method.empty">empty</a></h3>
<p>Convenient function that returns
<span class="code">true</span> 
if data of
<span class="code">this</span> 
is empty,
<span class="code">false</span> 
otherwise.</p>
<div class="codeblock">
<table>
<tr><td><pre>bool           empty () const;</pre></td></tr>
</table>
</div>
<div class="warning"><p><strong>WARNING:</strong>it is invalid to call this function when the object is being
restored</p></div>
</div>
<div class="sectioncode">
<h3><a name="method.size">size</a></h3>
<p>Convenient function that returns the size of the data of
<span class="code">this</span> 
.</p>
<div class="codeblock">
<table>
<tr><td><pre>size_t         size () const;</pre></td></tr>
</table>
</div>
<div class="warning"><p><strong>WARNING:</strong>it is invalid to call this function when the object is being
restored</p></div>
</div>
<div class="sectioncode">
<h3><a name="method.did_data_change">did_data_change</a></h3>
<p>Returns
<span class="code">true</span> 
if the old data is different from the current data.</p>
<div class="codeblock">
<table>
<tr><td><pre>bool           did_data_change () const;</pre></td></tr>
</table>
</div>
<div class="note"><p><strong>Note:</strong>Outside of an observer
<span class="code">document_changed</span> 
call, this will always return
<span class="code">false</span> </p></div>
</div>
<div class="sectioncode">
<h3><a name="method.push_encoder">push_encoder</a></h3>
<p>Push an encoder to encoder stack of
<span class="code">this</span> 
to indicates to the back-end
writer how the data should be written.</p>
<div class="codeblock">
<table>
<tr><td><pre>void           push_encoder (Encoder encoder);</pre></td></tr>
</table>
</div>
<p>The encoders properties are detailed in the
<a href="#ohm.flip.reference.encoder">Encoder Enum Reference</a>
chapter.</p>
</div>
<div class="sectioncode">
<h3><a name="method.push_encoder_base64">push_encoder_base64</a></h3>
<p>Implements an alias to
<span class="code">push_encoder (Encoder_BASE64)</span> </p>
<div class="codeblock">
<table>
<tr><td><pre>void           push_encoder_base64 ();</pre></td></tr>
</table>
</div>
<p>The encoders properties are detailed in the
<a href="#ohm.flip.reference.encoder">Encoder Enum Reference</a>
chapter.</p>
</div>
<div class="sectioncode">
<h3><a name="method.push_encoder_deflate">push_encoder_deflate</a></h3>
<p>Implements an alias to
<span class="code">push_encoder (Encoder_DEFLATE)</span> </p>
<div class="codeblock">
<table>
<tr><td><pre>void           push_encoder_deflate ();</pre></td></tr>
</table>
</div>
<p>The encoders properties are detailed in the
<a href="#ohm.flip.reference.encoder">Encoder Enum Reference</a>
chapter.</p>
</div>
<div class="sectioncode">
<h3><a name="method.push_encoder_escaped_ascii">push_encoder_escaped_ascii</a></h3>
<p>Implements an alias to
<span class="code">push_encoder (Encoder_ESCAPED_ASCII)</span> </p>
<div class="codeblock">
<table>
<tr><td><pre>void           push_encoder_escaped_ascii ();</pre></td></tr>
</table>
</div>
<p>The encoders properties are detailed in the
<a href="#ohm.flip.reference.encoder">Encoder Enum Reference</a>
chapter.</p>
<p>This encoder is generally used when
<span class="code">this</span> 
is holding a human
readable character string.</p>
</div>
<div class="sectioncode">
<h3><a name="method.push_encoder_hexadecimal">push_encoder_hexadecimal</a></h3>
<p>Implements an alias to
<span class="code">push_encoder (Encoder_HEXADECIMAL)</span> </p>
<div class="codeblock">
<table>
<tr><td><pre>void           push_encoder_hexadecimal ();</pre></td></tr>
</table>
</div>
<p>The encoders properties are detailed in the
<a href="#ohm.flip.reference.encoder">Encoder Enum Reference</a>
chapter.</p>
</div>
<div class="sectioncode">
<h3><a name="method.set_inline">set_inline</a></h3>
<p>Indicates to the back-end data writer that the data should be written inline
in the object data member. By default the back-end data writter will write
the data out-of-line.</p>
<div class="codeblock">
<table>
<tr><td><pre>void           set_inline (bool inline_flag = true);</pre></td></tr>
</table>
</div>
<p>Blobs of data are usually written out-of-line in the document. This means
that the member defining the blob only makes a reference to the blob object,
then the blob itself is written as a separate object.</p>
<p>The
<span class="code">set_inline</span> 
property will attempt to write the data inline in the
parent object attributes definition.</p>
<p>This property is usually used for the
<span class="code">Encoder_ESCAPED_ASCII</span> 
and
<span class="code">Encoder_HEXADECIMAL</span> 
to make the document more human readable.</p>
<div class="codeblock">
<p><strong>Listing</strong>Inlined version of a blob
</p>
<table>
<tr><td><pre>57 obj &lt;&lt;</pre></td></tr>
<tr><td><pre>   /ClassName ohm.studio.ClientData</pre></td></tr>
<tr><td><pre>      /AttributeName _user_name /Type /Blob /Inline /Length 6 /Filter [ /EscapedAsciiDecode ] raphael</pre></td></tr>
<tr><td><pre>&gt;&gt;</pre></td></tr>
<tr><td><pre>endobj</pre></td></tr>
</table>
</div>
<div class="codeblock">
<p><strong>Listing</strong>Non-inlined version of the previous blob
</p>
<table>
<tr><td><pre>57 obj &lt;&lt;</pre></td></tr>
<tr><td><pre>   /ClassName ohm.studio.ClientData</pre></td></tr>
<tr><td><pre>      /AttributeName _user_name /Type /Blob /Ref 58</pre></td></tr>
<tr><td><pre>&gt;&gt;</pre></td></tr>
<tr><td><pre>endobj</pre></td></tr>
<tr><td><pre></pre></td></tr>
<tr><td><pre>58 obj &lt;&lt;</pre></td></tr>
<tr><td><pre>   /Blob</pre></td></tr>
<tr><td><pre>      /Length 6</pre></td></tr>
<tr><td><pre>      /Filter [ /EscapedAsciiDecode ]</pre></td></tr>
<tr><td><pre>&gt;&gt;</pre></td></tr>
<tr><td><pre>stream</pre></td></tr>
<tr><td><pre>raphael</pre></td></tr>
<tr><td><pre>endstream</pre></td></tr>
<tr><td><pre>endobj</pre></td></tr>
</table>
</div>
</div>


<div class="nav" align="right"><a href="ohm.flip.reference.bool.html">previous</a><span>&nbsp;</span><a href="ohm.flip.reference.classdescmgr.html">next</a></div>

<div class="bottomspacer">&nbsp;</div>

</div>

<footer>
<a href="index.html">Ohm Force Developer Library</a> > <a href="ohm.flip.reference.overview.html">Flip Reference</a> > <a href="ohm.flip.reference.blob.html">Blob Class Reference</a>
</footer>


</body>

</html>